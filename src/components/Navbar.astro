<script is:inline>
  document.addEventListener('DOMContentLoaded', () => {
    // Selectores
    const btnToggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    const menuLinks = document.querySelectorAll('.mobile-link');
    
    function toggleMenu() {
      // 1. Animar el icono
      btnToggle.classList.toggle('is-active');
      
      // 2. Deslizar el menú
      mobileMenu.classList.toggle('translate-x-full');
      mobileMenu.classList.toggle('opacity-0');
      
      // 3. Bloquear scroll
      document.body.classList.toggle('overflow-hidden');
    }

    if(btnToggle) btnToggle.addEventListener('click', toggleMenu);
    
    // Cerrar al tocar links
    menuLinks.forEach(link => {
      link.addEventListener('click', () => {
        btnToggle.classList.remove('is-active');
        mobileMenu.classList.add('translate-x-full');
        mobileMenu.classList.add('opacity-0');
        document.body.classList.remove('overflow-hidden');
      });
    });
  });
</script>

<style>
  /* === ANIMACIÓN CSS === */
  .hamburger-box {
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    width: 26px;
    height: 18px;
    cursor: pointer;
  }

  .line {
    display: block;
    width: 100%;
    height: 2px;
    background-color: var(--color-primary); /* Violeta */
    border-radius: 4px;
    transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55), 
                background-color 0.3s ease, 
                opacity 0.3s ease;
  }

  /* Estado ACTIVO (Cruz) */
  #menu-toggle.is-active .line {
    background-color: var(--color-accent); /* Terracota */
  }

  #menu-toggle.is-active .line-1 {
    transform: translateY(8px) rotate(45deg);
  }

  #menu-toggle.is-active .line-2 {
    opacity: 0;
    transform: translateX(-10px);
  }

  #menu-toggle.is-active .line-3 {
    transform: translateY(-8px) rotate(-45deg);
  }
</style>

<header class="fixed top-0 w-full z-[100] bg-white/95 backdrop-blur-md border-b border-gray-100 shadow-sm transition-all duration-300">
  <div class="max-w-6xl mx-auto px-6 h-20 flex items-center justify-between">
    
    <a href="#inicio" class="flex flex-col leading-none group relative z-[100]">
      <span class="font-serif text-xl font-bold text-[var(--color-primary)] tracking-wide">DIODATI</span>
      <span class="text-[10px] uppercase tracking-[0.2em] text-[var(--color-accent)] font-bold group-hover:tracking-[0.3em] transition-all">& Asociados</span>
    </a>

    <nav class="hidden md:flex items-center gap-8 text-sm font-bold text-gray-600 font-sans">
      <a href="#inicio" class="hover:text-[var(--color-primary)] transition-colors">Inicio</a>
      <a href="#areas" class="hover:text-[var(--color-primary)] transition-colors">Áreas de Práctica</a>
      <a href="#nosotros" class="hover:text-[var(--color-primary)] transition-colors">El Estudio</a>
      <a href="#contacto" class="btn-primary text-xs px-6 py-3 shadow-md hover:shadow-lg">
        Contacto
      </a>
    </nav>

    <button id="menu-toggle" class="md:hidden p-2 focus:outline-none z-[100]" aria-label="Menu">
      <div class="hamburger-box">
        <span class="line line-1"></span>
        <span class="line line-2"></span>
        <span class="line line-3"></span>
      </div>
    </button>

  </div>
</header>

<div id="mobile-menu" class="fixed inset-0 z-[90] bg-white w-screen h-screen flex flex-col items-center pt-24 transition-all duration-500 ease-in-out translate-x-full opacity-0 md:hidden">
  
  <div class="absolute top-0 right-0 w-64 h-64 bg-[var(--color-accent)]/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"></div>
  
  <nav class="flex flex-col gap-8 text-center relative z-10 w-full px-6">
    <a href="#inicio" class="mobile-link text-2xl font-serif font-bold text-[var(--color-primary)] hover:text-[var(--color-accent)] transition-colors border-b border-gray-50 pb-4">Inicio</a>
    <a href="#areas" class="mobile-link text-2xl font-serif font-bold text-[var(--color-primary)] hover:text-[var(--color-accent)] transition-colors border-b border-gray-50 pb-4">Áreas de Práctica</a>
    <a href="#nosotros" class="mobile-link text-2xl font-serif font-bold text-[var(--color-primary)] hover:text-[var(--color-accent)] transition-colors border-b border-gray-50 pb-4">El Estudio</a>
    
    <a href="#contacto" class="mobile-link text-xl font-sans font-bold text-[var(--color-accent)] uppercase tracking-widest pt-4">
      Contacto
    </a>
  </nav>

  <div class="mt-auto pb-10 w-full px-8">
    <a href="https://wa.me/541158156132" class="btn-primary w-full block text-center shadow-xl py-4">
      WhatsApp Directo
    </a>
  </div>

</div>